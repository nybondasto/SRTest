#pragma checksum "C:\Data\SRTest\SRTest\Pages\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "325f408f8b40b31c9e1aa1879fa484868d42dd43"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(SRTest.Pages.Pages_Index), @"mvc.1.0.razor-page", @"/Pages/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.RazorPageAttribute(@"/Pages/Index.cshtml", typeof(SRTest.Pages.Pages_Index), null)]
namespace SRTest.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Data\SRTest\SRTest\Pages\_ViewImports.cshtml"
using SRTest;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"325f408f8b40b31c9e1aa1879fa484868d42dd43", @"/Pages/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a45589cce7e4dc6f105e5f5269f78e4fdebe5cca", @"/Pages/_ViewImports.cshtml")]
    public class Pages_Index : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "ryhma_1", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "ryhma_2", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "ryhma_3", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/signalr.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/javascript"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "C:\Data\SRTest\SRTest\Pages\Index.cshtml"
  
    ViewData["Title"] = "Home page";

#line default
#line hidden
            BeginContext(71, 291, true);
            WriteLiteral(@"
<div class=""text-center"" style=""width: 100%"">
    <h3>Testi-chat</h3>
    <table>
        <tr>
            <td style=""width: 80px; text-align: left;"" valign=""top"">Ryhmä:</td>
            <td align=""left"">
                <select id=""huoneet"" class=""cmbHuoneet"">
                    ");
            EndContext();
            BeginContext(362, 45, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "325f408f8b40b31c9e1aa1879fa484868d42dd435413", async() => {
                BeginContext(379, 19, true);
                WriteLiteral("-- Valitse ryhmä --");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(407, 22, true);
            WriteLiteral("\r\n                    ");
            EndContext();
            BeginContext(429, 40, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "325f408f8b40b31c9e1aa1879fa484868d42dd436821", async() => {
                BeginContext(453, 7, true);
                WriteLiteral("Ryhmä 1");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(469, 22, true);
            WriteLiteral("\r\n                    ");
            EndContext();
            BeginContext(491, 40, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "325f408f8b40b31c9e1aa1879fa484868d42dd438216", async() => {
                BeginContext(515, 7, true);
                WriteLiteral("Ryhmä 2");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(531, 22, true);
            WriteLiteral("\r\n                    ");
            EndContext();
            BeginContext(553, 40, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "325f408f8b40b31c9e1aa1879fa484868d42dd439611", async() => {
                BeginContext(577, 7, true);
                WriteLiteral("Ryhmä 3");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_3.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(593, 1237, true);
            WriteLiteral(@"
                </select>
                <div id=""lkm"" style=""display: inline-table""></div>
            </td>
        </tr>
        <tr>
            <td style=""width: 80px; text-align: left;"" valign=""top"">Nimi:</td>
            <td align=""left""><input id=""username"" type=""text""  class=""cmbHuoneet""/></td>
        </tr>
        <tr>
            <td></td>
            <td align=""left"">
                <input id=""joingroup"" type=""button"" value=""Liity ryhmään"" data-mode=""join"" class=""cmbHuoneet""/>
            </td>
        </tr>
    </table>
    
    <hr />
    
    <div id=""messages"" style=""text-align: left;""></div>
    <hr />
    <div style=""text-align: left;"">
        <table>
            <tr>
                <td style=""width: 80px; text-align: left;"" valign=""top"">Viesti:</td>
                <td align=""left""><input id=""message"" type=""text"" class=""viesti"" /><input id=""sendmessage"" name=""sendmessage"" type=""button"" value=""Lähetä"" style=""width: 100px;"" />
                                  ");
            WriteLiteral("                                                <input id=\"sendgroup\" name=\"sendgroup\" type=\"button\" value=\"Lähetä ryhmälle\" style=\"width: 170px;\" /></td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>\r\n");
            EndContext();
            BeginContext(1830, 67, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "325f408f8b40b31c9e1aa1879fa484868d42dd4312330", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(1897, 3792, true);
            WriteLiteral(@"

<script type=""text/javascript"">


    $(document).ready(function () {
        initialize();

        // Create a function that the hub can call to broadcast messages.
        hubConnection.on('broadcastMessage', messageCallback);
        hubConnection.on('echo', messageCallback);
        //hubConnection.on('sendgroup', messageCallback);
    });

    var hubConnection;
    var messageInput = $(""#message"")[0];
    var username = $(""#username"")[0];

    var initialize = function () {

        hubConnection = new signalR.HubConnectionBuilder()
            .withUrl(""/etreathub"")
            .configureLogging(signalR.LogLevel.Information)
            .build();
        hubConnection.start().catch(err => console.error(err.toString()));
    }

    document.getElementById('sendmessage').addEventListener('click', function (event) {
        // Call the broadcastMessage method on the hub.
        if (messageInput.value) {

            hubConnection.send('broadcastMessage', username.value, ");
            WriteLiteral(@"messageInput.value);
            messageInput.value = """";
            messageInput.focus();
            event.preventDefault();
        }
    });

    function createMessageEntry(name, msg) {
        var tyyli = ""user"";
        if (name == ""_SYSTEM_"")
            tyyli = ""system"";

        var node = document.createElement(""DIV"");   
        var textnode = document.createTextNode(name + "" wrote: "" + msg);
        node.appendChild(textnode);
        node.className = tyyli;
        return node;
    }

    function updateGroupCount(msg) {
        $(""#lkm"").html(msg);
    }


    var messageCallback = function (name, message) {

        if (name != ""_GROUPCOUNT_"") {
            if (!message) return;
            // Html encode display name and message.
            var encodedName = name;
            var encodedMsg = message.replace(/&/g, ""&amp;"").replace(/</g, ""&lt;"").replace(/>/g, ""&gt;"");
            var messageEntry = createMessageEntry(encodedName, encodedMsg);

            var");
            WriteLiteral(@" messageBox = document.getElementById('messages');
            messageBox.appendChild(messageEntry);
            messageBox.scrollTop = messageBox.scrollHeight;
        }
        else {
            updateGroupCount(message);
        }
    };
    
    // Group join/leave operations
    document.getElementById('joingroup').addEventListener('click', function (event) {

        var ryhma = $(""#huoneet"").val();
        var mode = $(""#joingroup"").data(""mode"");
        

        if ($('username').is(':disabled') == false)
            $(username).attr('disabled', 'disabled');

        if ($('huoneet').is(':disabled') == false)
            $(""#huoneet"").attr('disabled', 'disabled');

        if (mode == ""join"") {
            if (ryhma) {
                hubConnection.send('joingroup', username.value, ryhma);
                $(""#joingroup"").data(""mode"", ""leave"");
                $(""#joingroup"").val(""Poistu ryhmästä"");
            }
        }
        else {
            hubConnection.send('l");
            WriteLiteral(@"eavegroup', username.value, ryhma);
            $(""#joingroup"").data(""mode"", ""join"");
            $(""#joingroup"").val(""Liity ryhmään"");
            $(""#huoneet"").removeAttr('disabled');
            $(""#lkm"").html("""");
        }
        
        event.preventDefault();
    });


    // Send to Group/Groups
    document.getElementById('sendgroup').addEventListener('click', function (event) {

        var ryhma = $(""#huoneet"").val();

        if (ryhma && messageInput.value) {
            hubConnection.send('sendgroup', username.value, ryhma, messageInput.value);
        }
        messageInput.value = '';
        messageInput.focus();
        event.preventDefault();
    });
    

</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IndexModel> Html { get; private set; }
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<IndexModel> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<IndexModel>)PageContext?.ViewData;
        public IndexModel Model => ViewData.Model;
    }
}
#pragma warning restore 1591
